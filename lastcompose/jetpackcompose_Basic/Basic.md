# jetpack composeの基本

****

## プロジェクト作成

****

- build.gradle ファイルと app/build.gradle ファイルには、Compose に必要なオプションと依存関係が含まれています。

## コンポーズ可能な関数

****

コンポーズ可能な関数とは、@Composable アノテーションが付いている通常の関数。よって、関数は内部で他の @Composable 関数を呼び出すことができる
Greeting 関数が @Composable とマークされている例を次に示します。
この関数では UI 階層の一部が生成され、指定された入力（String）がその UI 階層で表示されます。Text は、ライブラリによって提供されるコンポーズ可能な関数です。
![](../../img/compose1.png)

## Androidアプリでのcompose

****

- Activitiesはandroidのエントリーポイント
- ユーザーがアプリを開くとMainActivityが起動する（AndroidMainfestの設定どおり）
- レイアウトはxmlではない！内部のcompose可能な関数を呼び出す!

![](../../img/compose2.png)

- BasicsCodelabTheme は、コンポーズ可能な関数のスタイルを設定する手段
- Android Studio プレビューを使用するには、※パラメータのないコンポーズ可能な関数またはデフォルト パラメータを含む関数に @Preview アノテーションを付けて、プロジェクトをビルドします。
- 同じファイルに複数のプレビューを設定し、それぞれに名前を付けることができます。

![](../../img/compose3.png)


※パラメータとは

![](../../img/parameter.png)


### UIの微調整

****

![](../../img/compose4.png)

Surface 内にネストされているコンポーネントは、その背景色の上に描画されます。


- 結果
![](../../img/HerroAndroid.png)

テキストを指定してないのに文字の色が白い。なぜか。（河田構文）

実は、定義していません。androidx.compose.material.Surface などのマテリアル コンポーネントは、
テキストに適切な色を選択するなど、一般的にアプリに望まれる内容を指定することで、ユーザー エクスペリエンスが向上するように設計されている

化け物だ

ちなマテリアルは、大半のアプリに通用する適切なデフォルト値とパターンを提供するものであるため、柔軟性がありません。

Compose のマテリアル コンポーネントは、他の基盤コンポーネント（androidx.compose.foundation にあるコンポーネント）の上に構築されており、より柔軟性が必要な場合は、アプリ コンポーネントからもアクセスできます。

今回の場合は背景が primary カラーに設定されており、
その際には背景の上にあるテキストに onPrimary カラー（これはテーマでも定義されています）
を使用すべきであることが、Surface によって認識されておるのだ

